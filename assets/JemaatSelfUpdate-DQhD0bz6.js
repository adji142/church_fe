import{_ as me,r as x,i as ve,j as f,c as r,a,d,b as p,k as u,v as m,l as P,m as F,t as g,F as b,n as h,p as R,h as D,q as S,o as n,s as ge,x as y,w as E,y as _e}from"./index-Mv3MxCR1.js";import{S as j}from"./sweetalert2.esm.all-BQxta0Da.js";import{U as G}from"./user-tPY_dJA_.js";import{U as q}from"./users-D_w7s7_7.js";import{C as ee}from"./calendar-COvuOzBD.js";import{S as T}from"./search-DW_529iS.js";import{X as W,C as ke}from"./x-D8hPaNXE.js";import{C as fe,D as be,H as ae,G as he}from"./heart-CyMp0PKY.js";import{U as xe,P as te}from"./upload-DJIZDbe-.js";import{H as se}from"./hash-3C7pK2I6.js";import{T as ye}from"./tag-Dx8Wwxbt.js";import{M as le}from"./map-pin-DIz-n_0r.js";import{B as we}from"./briefcase-DeOdw5oH.js";import{M as Ce}from"./mail-jA6ul7Ep.js";import{P as Ue}from"./plus-BF4bXWAK.js";import{C as O}from"./chevron-down-DSZpuO8w.js";import"./createLucideIcon-DBeZuCHW.js";const Ae={class:"public-page min-h-screen bg-slate-50 flex flex-col items-center py-12 px-4"},Ve={class:"max-w-4xl w-full"},Pe={key:0,class:"card verification-card max-w-lg mx-auto shadow-xl bg-white p-8 rounded-2xl border border-slate-100"},Ie={class:"space-y-6"},ze={class:"form-group"},Ke={class:"input-wrapper"},$e={class:"grid grid-cols-2 gap-4"},Ne={class:"form-group"},De={class:"input-wrapper"},Se={class:"form-group"},je={class:"input-wrapper"},Te=["disabled"],Le={key:0,class:"spinner small"},Be={key:1,class:"card update-card shadow-2xl bg-white rounded-2xl border border-slate-100 overflow-hidden"},Me={class:"p-6 bg-slate-800 text-white flex justify-between items-center"},Re={class:"text-xl font-bold"},Ee={class:"text-slate-300 text-xs mt-1 uppercase tracking-wider font-mono"},Oe={class:"modal-tabs px-6 bg-slate-50 border-b"},He=["onClick"],Je={class:"modal-body p-8 custom-scrollbar max-h-[70vh] overflow-y-auto"},Fe={class:"tab-pane"},Ge={class:"photo-upload-section mb-8"},qe={class:"photo-preview-container"},We={key:0,class:"photo-preview-wrapper"},Xe=["src"],Qe={key:1,class:"photo-placeholder"},Ye={class:"photo-upload-controls"},Ze={class:"photo-upload-label"},ea={class:"form-grid"},aa={class:"form-group span-2"},ta={class:"input-wrapper"},sa={class:"form-group"},la={class:"flex justify-between items-end mb-1"},oa={class:"form-group"},na={class:"input-wrapper"},ia={class:"form-group"},ra={class:"input-wrapper"},ua={class:"form-group"},pa={class:"input-wrapper"},da={class:"form-group"},ca={class:"input-wrapper"},ma={class:"form-group"},va={class:"input-wrapper"},ga=["value"],_a={class:"tab-pane"},ka={class:"form-grid"},fa={class:"form-group span-2"},ba={class:"flex justify-between items-end mb-1"},ha={class:"form-group"},xa={class:"input-wrapper"},ya={class:"form-group"},wa={class:"input-wrapper"},Ca=["value"],Ua={class:"form-group"},Aa={class:"input-wrapper"},Va=["value"],Pa={class:"form-group"},Ia={class:"input-wrapper"},za=["value"],Ka={class:"tab-pane"},$a={class:"form-grid"},Na={class:"form-group span-2"},Da={class:"input-wrapper"},Sa={class:"form-group span-2"},ja={class:"input-wrapper"},Ta={class:"tab-pane"},La={class:"flex justify-between items-center mb-6"},Ba={class:"address-list flex flex-col gap-[2.5rem]"},Ma={class:"address-badge text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-4 bg-slate-50 inline-block px-3 py-1 rounded-full border border-slate-100 italic"},Ra=["onClick"],Ea={class:"form-grid compact"},Oa={class:"form-group span-2"},Ha=["onUpdate:modelValue","onInput"],Ja={class:"form-group span-2"},Fa=["onUpdate:modelValue","onInput"],Ga={class:"form-group searchable-select"},qa={class:"input-wrapper"},Wa=["value","onClick"],Xa={key:0,class:"select-dropdown"},Qa={class:"search-box"},Ya={class:"options-list custom-scrollbar"},Za=["onClick"],et={key:0,class:"empty-option"},at={class:"form-group searchable-select"},tt={class:"input-wrapper"},st=["value","onClick","disabled"],lt={key:0,class:"select-dropdown"},ot={class:"search-box"},nt={class:"options-list custom-scrollbar"},it=["onClick"],rt={key:0,class:"empty-option"},ut={class:"form-group searchable-select"},pt={class:"input-wrapper"},dt=["value","onClick","disabled"],ct={key:0,class:"select-dropdown"},mt={class:"search-box"},vt={class:"options-list custom-scrollbar"},gt=["onClick"],_t={key:0,class:"empty-option"},kt={class:"form-group searchable-select"},ft={class:"input-wrapper"},bt=["value","onClick","disabled"],ht={key:0,class:"select-dropdown"},xt={class:"search-box"},yt={class:"options-list custom-scrollbar"},wt=["onClick"],Ct={key:0,class:"empty-option"},Ut={class:"form-group"},At=["onUpdate:modelValue","onInput"],Vt={class:"form-group"},Pt=["onUpdate:modelValue","onInput"],It={class:"form-group"},zt=["onUpdate:modelValue","onInput"],Kt={class:"form-group"},$t=["onUpdate:modelValue","onInput"],Nt={class:"form-group span-4 flex items-center gap-2 mt-2"},Dt=["id","onUpdate:modelValue","onChange"],St=["for"],jt={class:"p-6 bg-slate-50 border-t flex justify-end gap-3"},Tt=["disabled"],Lt={key:0,class:"spinner small"},Bt={__name:"JemaatSelfUpdate",setup(Mt){const L=x(1),w=x(!1),I=x("pribadi"),$=x(!1),N=x(!1),k=x({nama_lengkap:"",jenis_kelamin:"",tanggal_lahir:""}),X=()=>({id:null,nik:"",no_kk:"",nama_lengkap:"",nama_panggilan:"",jenis_kelamin:"",tempat_lahir:"",tanggal_lahir:"",golongan_darah:"",hubungan_keluarga:"",status_pernikahan_id:"",pendidikan_id:"",pekerjaan_id:"",no_hp:"",email:"",foto:"",alamats:[]}),o=x(X()),oe=[{id:"pribadi",label:"Pribadi",icon:G},{id:"keluarga",label:"Keluarga",icon:ae},{id:"gerejawi",label:"Kontak",icon:te},{id:"alamat",label:"Alamat",icon:le}],ne=["A","B","AB","O","A+","A-","B+","B-","AB+","AB-","O+","O-"],c=x({provinces:[],regencies:{},districts:{},villages:{},maritalStatuses:[],educations:[],occupations:[]}),v=x({active:null,search:""});ve(async()=>{try{const[s,e,t,i,l,_]=await Promise.all([f.get("/provinces"),f.get("/public/marital-statuses"),f.get("/public/educations"),f.get("/public/occupations"),f.get("/public/church-areas"),f.get("/public/member-statuses")]);c.value.provinces=s.data.data||s.data,c.value.maritalStatuses=e.data.data||e.data,c.value.educations=t.data.data||t.data,c.value.occupations=i.data.data||i.data,c.value.churchAreas=l.data.data||l.data,c.value.memberStatuses=_.data.data||_.data}catch(s){console.error("Fetch master data error:",s)}});const U=(s,e)=>{s[e]&&(s[e]=s[e].toUpperCase())},z=(s,e,t=16)=>{let i=s[e].replace(/\D/g,"");i.length>t&&(i=i.slice(0,t)),s[e]=i},H=()=>o.value.nik.length>=10&&o.value.nik.length<=16,J=()=>o.value.no_kk.length>=10&&o.value.no_kk.length<=16,ie=async()=>{if(!k.value.nama_lengkap||!k.value.jenis_kelamin||!k.value.tanggal_lahir){j.fire("Info","Harap isi semua kolom verifikasi","info");return}w.value=!0;try{const s=await f.post("/public/jemaat/verify",k.value);if(s.data.success){o.value=JSON.parse(JSON.stringify(s.data.data));for(const e of o.value.alamats)if(e.provinsi){const t=c.value.provinces.find(i=>i.name===e.provinsi);if(t){e._province_id=t.id,await Q(t.id);const i=(c.value.regencies[t.id]||[]).find(l=>l.name===e.kota);if(i){e._regency_id=i.id,await Y(i.id);const l=(c.value.districts[i.id]||[]).find(_=>_.name===e.kecamatan);l&&(e._district_id=l.id,await Z(l.id))}}}L.value=2}}catch(s){j.fire("Error",s.response?.data?.message||"Data tidak ditemukan","error")}finally{w.value=!1}},re=s=>{const e=s.target.files[0];if(!e)return;const t=new FileReader;t.onload=i=>{const l=new Image;l.onload=()=>{const _=document.createElement("canvas"),K=400;let A=l.width,V=l.height;A>V?A>K&&(V*=K/A,A=K):V>K&&(A*=K/V,V=K),_.width=A,_.height=V,_.getContext("2d").drawImage(l,0,0,A,V),o.value.foto=_.toDataURL("image/jpeg",.7)},l.src=i.target.result},t.readAsDataURL(e)},Q=async s=>{if(!s||c.value.regencies[s])return;const e=await f.get(`/regencies/${s}`),t=e.data.data||e.data;c.value.regencies[s]=Array.isArray(t)?t:[]},Y=async s=>{if(!s||c.value.districts[s])return;const e=await f.get(`/districts/${s}`),t=e.data.data||e.data;c.value.districts[s]=Array.isArray(t)?t:[]},Z=async s=>{if(!s||c.value.villages[s])return;const e=await f.get(`/villages/${s}`),t=e.data.data||e.data;c.value.villages[s]=Array.isArray(t)?t:[]},B=s=>{v.value.active=v.value.active===s?null:s,v.value.search=""},M=async(s,e,t)=>{e==="provinsi"?(s.provinsi=t.name,s._province_id=t.id,s.kota=s.kecamatan=s.kelurahan="",s._regency_id=s._district_id=null,await Q(t.id)):e==="kota"?(s.kota=t.name,s._regency_id=t.id,s.kecamatan=s.kelurahan="",s._district_id=null,await Y(t.id)):e==="kecamatan"?(s.kecamatan=t.name,s._district_id=t.id,s.kelurahan="",await Z(t.id)):e==="kelurahan"&&(s.kelurahan=t.name),v.value.active=null,v.value.search=""},C=s=>{if(!s)return[];const e=v.value.search.toLowerCase();return(e?s.filter(i=>i.name.toLowerCase().includes(e)):s).slice(0,100)},ue=()=>{o.value.alamats.push({caption_alamat:"",alamat_lengkap:"",rt:"",rw:"",kelurahan:"",kecamatan:"",kota:"",provinsi:"",kode_pos:"",negara:"INDONESIA",is_utama:o.value.alamats.length===0})},pe=s=>{o.value.alamats.splice(s,1),o.value.alamats.length>0&&!o.value.alamats.some(e=>e.is_utama)&&(o.value.alamats[0].is_utama=!0)},de=s=>{o.value.alamats.forEach((e,t)=>{t!==s&&(e.is_utama=!1)}),o.value.alamats.some(e=>e.is_utama)||(o.value.alamats[s]=!0)},ce=async()=>{if($.value=N.value=!0,!H()||!J()){j.fire("Error","Periksa kembali NIK dan No. KK (10-16 digit)","error");return}w.value=!0;try{const s=await f.put(`/public/jemaat/update/${o.value.id}`,o.value);s.data.success&&(await j.fire("Berhasil",s.data.message,"success"),L.value=1,o.value=X(),k.value={nama_lengkap:"",jenis_kelamin:"",tanggal_lahir:""})}catch(s){j.fire("Gagal",s.response?.data?.message||"Gagal menyimpan data","error")}finally{w.value=!1}};return(s,e)=>(n(),r("div",Ae,[a("div",Ve,[e[78]||(e[78]=a("div",{class:"text-center mb-10"},[a("h1",{class:"text-3xl font-bold text-slate-900 mb-2"},"Pembaruan Data Jemaat"),a("p",{class:"text-slate-500"},"Silakan verifikasi identitas Anda untuk memperbarui data.")],-1)),L.value===1?(n(),r("div",Pe,[a("div",Ie,[a("div",ze,[e[36]||(e[36]=a("label",{class:"form-label"},"Nama Lengkap",-1)),a("div",Ke,[d(u(G),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>k.value.nama_lengkap=t),onInput:e[1]||(e[1]=t=>U(k.value,"nama_lengkap")),type:"text",placeholder:"NAMA LENGKAP SESUAI IDENTITAS"},null,544),[[m,k.value.nama_lengkap]])])]),a("div",$e,[a("div",Ne,[e[38]||(e[38]=a("label",{class:"form-label"},"Jenis Kelamin",-1)),a("div",De,[d(u(q),{size:"18",class:"input-icon"}),p(a("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>k.value.jenis_kelamin=t)},[...e[37]||(e[37]=[a("option",{value:"",disabled:""},"Pilih",-1),a("option",{value:"L"},"Laki-laki",-1),a("option",{value:"P"},"Perempuan",-1)])],512),[[P,k.value.jenis_kelamin]])])]),a("div",Se,[e[39]||(e[39]=a("label",{class:"form-label"},"Tanggal Lahir",-1)),a("div",je,[d(u(ee),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>k.value.tanggal_lahir=t),type:"date"},null,512),[[m,k.value.tanggal_lahir]])])])]),a("button",{onClick:ie,disabled:w.value,class:"btn btn-primary w-full py-3 h-auto text-base flex justify-center items-center gap-2"},[w.value?(n(),r("span",Le)):(n(),F(u(T),{key:1,size:"20"})),e[40]||(e[40]=a("span",null,"Verifikasi Data",-1))],8,Te)])])):(n(),r("div",Be,[a("div",Me,[a("div",null,[a("h2",Re,g(o.value.nama_lengkap),1),a("p",Ee,"ID: "+g(o.value.nik),1)]),a("button",{onClick:e[4]||(e[4]=t=>L.value=1),class:"text-slate-300 hover:text-white transition-colors"},[d(u(W),{size:"24"})])]),a("div",Oe,[(n(),r(b,null,h(oe,t=>a("button",{key:t.id,class:S(["tab-btn",{active:I.value===t.id}]),onClick:i=>I.value=t.id},[(n(),F(ge(t.icon),{size:"16"})),a("span",null,g(t.label),1)],10,He)),64))]),a("div",Je,[p(a("div",Fe,[a("div",Ge,[a("div",qe,[o.value.foto?(n(),r("div",We,[a("img",{src:o.value.foto,alt:"Preview Photo",class:"photo-preview-image"},null,8,Xe),a("button",{type:"button",class:"remove-photo-btn",onClick:e[5]||(e[5]=t=>o.value.foto=""),title:"Hapus Foto"},[d(u(W),{size:"14"})])])):(n(),r("div",Qe,[d(u(fe),{size:"32",class:"text-slate-300"}),e[41]||(e[41]=a("span",{class:"text-[10px] uppercase font-bold text-slate-400 mt-2"},"Belum ada foto",-1))]))]),a("div",Ye,[a("label",Ze,[d(u(xe),{size:"16"}),e[42]||(e[42]=a("span",null,"Unggah Foto Profil",-1)),a("input",{type:"file",class:"hidden",accept:"image/*",onChange:re},null,32)]),e[43]||(e[43]=a("p",{class:"text-[10px] text-slate-400 mt-2"},"Maksimal 5MB. Format: JPG, PNG, WEBP.",-1))])]),a("div",ea,[a("div",aa,[e[44]||(e[44]=a("label",{class:"form-label"},[D("Nama Lengkap "),a("span",{class:"text-red-500"},"*")],-1)),a("div",ta,[d(u(G),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.nama_lengkap=t),onInput:e[7]||(e[7]=t=>U(o.value,"nama_lengkap")),type:"text",required:""},null,544),[[m,o.value.nama_lengkap]])])]),a("div",sa,[a("div",la,[e[45]||(e[45]=a("label",{class:"form-label mb-0"},[D("NIK "),a("span",{class:"text-red-500"},"*")],-1)),a("span",{class:S(["text-[10px] font-bold",$.value&&!H()?"text-red-500":"text-slate-400"])},g(o.value.nik.length)+"/16",3)]),a("div",{class:S(["input-wrapper",{"error-ring":$.value&&!H()}])},[d(u(se),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.nik=t),onInput:e[9]||(e[9]=t=>{z(o.value,"nik"),$.value=!0}),onBlur:e[10]||(e[10]=t=>$.value=!0),type:"text",required:""},null,544),[[m,o.value.nik]])],2)]),a("div",oa,[e[46]||(e[46]=a("label",{class:"form-label"},"Nama Panggilan",-1)),a("div",na,[d(u(ye),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.value.nama_panggilan=t),onInput:e[12]||(e[12]=t=>U(o.value,"nama_panggilan")),type:"text"},null,544),[[m,o.value.nama_panggilan]])])]),a("div",ia,[e[48]||(e[48]=a("label",{class:"form-label"},"Jenis Kelamin",-1)),a("div",ra,[d(u(q),{size:"18",class:"input-icon"}),p(a("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.value.jenis_kelamin=t)},[...e[47]||(e[47]=[a("option",{value:"L"},"Laki-laki",-1),a("option",{value:"P"},"Perempuan",-1)])],512),[[P,o.value.jenis_kelamin]])])]),a("div",ua,[e[49]||(e[49]=a("label",{class:"form-label"},"Tempat Lahir",-1)),a("div",pa,[d(u(le),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[14]||(e[14]=t=>o.value.tempat_lahir=t),onInput:e[15]||(e[15]=t=>U(o.value,"tempat_lahir")),type:"text"},null,544),[[m,o.value.tempat_lahir]])])]),a("div",da,[e[50]||(e[50]=a("label",{class:"form-label"},"Tanggal Lahir",-1)),a("div",ca,[d(u(ee),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[16]||(e[16]=t=>o.value.tanggal_lahir=t),type:"date"},null,512),[[m,o.value.tanggal_lahir]])])]),a("div",ma,[e[52]||(e[52]=a("label",{class:"form-label"},"Golongan Darah",-1)),a("div",va,[d(u(be),{size:"18",class:"input-icon"}),p(a("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.value.golongan_darah=t)},[e[51]||(e[51]=a("option",{value:""},"Pilih",-1)),(n(),r(b,null,h(ne,t=>a("option",{key:t,value:t},g(t),9,ga)),64))],512),[[P,o.value.golongan_darah]])])])])],512),[[R,I.value==="pribadi"]]),p(a("div",_a,[a("div",ka,[a("div",fa,[a("div",ba,[e[53]||(e[53]=a("label",{class:"form-label mb-0"},[D("No. KK "),a("span",{class:"text-red-500"},"*")],-1)),a("span",{class:S(["text-[10px] font-bold",N.value&&!J()?"text-red-500":"text-slate-400"])},g(o.value.no_kk.length)+"/16",3)]),a("div",{class:S(["input-wrapper",{"error-ring":N.value&&!J()}])},[d(u(se),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[18]||(e[18]=t=>o.value.no_kk=t),onInput:e[19]||(e[19]=t=>{z(o.value,"no_kk"),N.value=!0}),onBlur:e[20]||(e[20]=t=>N.value=!0),type:"text",required:""},null,544),[[m,o.value.no_kk]])],2)]),a("div",ha,[e[55]||(e[55]=a("label",{class:"form-label"},[D("Hubungan Keluarga "),a("span",{class:"text-red-500"},"*")],-1)),a("div",xa,[d(u(q),{size:"18",class:"input-icon"}),p(a("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>o.value.hubungan_keluarga=t),required:""},[...e[54]||(e[54]=[a("option",{value:"Kepala Keluarga"},"Kepala Keluarga",-1),a("option",{value:"Istri"},"Istri",-1),a("option",{value:"Anak"},"Anak",-1)])],512),[[P,o.value.hubungan_keluarga]])])]),a("div",ya,[e[57]||(e[57]=a("label",{class:"form-label"},"Status Pernikahan",-1)),a("div",wa,[d(u(ae),{size:"18",class:"input-icon"}),p(a("select",{"onUpdate:modelValue":e[22]||(e[22]=t=>o.value.status_pernikahan_id=t)},[e[56]||(e[56]=a("option",{value:""},"Pilih",-1)),(n(!0),r(b,null,h(c.value.maritalStatuses,t=>(n(),r("option",{key:t.id,value:t.id},g(t.name),9,Ca))),128))],512),[[P,o.value.status_pernikahan_id]])])]),a("div",Ua,[e[59]||(e[59]=a("label",{class:"form-label"},"Pendidikan",-1)),a("div",Aa,[d(u(he),{size:"18",class:"input-icon"}),p(a("select",{"onUpdate:modelValue":e[23]||(e[23]=t=>o.value.pendidikan_id=t)},[e[58]||(e[58]=a("option",{value:""},"Pilih",-1)),(n(!0),r(b,null,h(c.value.educations,t=>(n(),r("option",{key:t.id,value:t.id},g(t.name),9,Va))),128))],512),[[P,o.value.pendidikan_id]])])]),a("div",Pa,[e[61]||(e[61]=a("label",{class:"form-label"},"Pekerjaan",-1)),a("div",Ia,[d(u(we),{size:"18",class:"input-icon"}),p(a("select",{"onUpdate:modelValue":e[24]||(e[24]=t=>o.value.pekerjaan_id=t)},[e[60]||(e[60]=a("option",{value:""},"Pilih",-1)),(n(!0),r(b,null,h(c.value.occupations,t=>(n(),r("option",{key:t.id,value:t.id},g(t.name),9,za))),128))],512),[[P,o.value.pekerjaan_id]])])])])],512),[[R,I.value==="keluarga"]]),p(a("div",Ka,[a("div",$a,[a("div",Na,[e[62]||(e[62]=a("label",{class:"form-label"},"No. HP / WhatsApp",-1)),a("div",Da,[d(u(te),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[25]||(e[25]=t=>o.value.no_hp=t),onInput:e[26]||(e[26]=t=>z(o.value,"no_hp",15)),type:"text",placeholder:"08xxxxxxxxxx"},null,544),[[m,o.value.no_hp]])])]),a("div",Sa,[e[63]||(e[63]=a("label",{class:"form-label"},"Email",-1)),a("div",ja,[d(u(Ce),{size:"18",class:"input-icon"}),p(a("input",{"onUpdate:modelValue":e[27]||(e[27]=t=>o.value.email=t),type:"email",placeholder:"contoh@email.com"},null,512),[[m,o.value.email]])])])])],512),[[R,I.value==="gerejawi"]]),p(a("div",Ta,[a("div",La,[e[66]||(e[66]=a("div",null,[a("h3",{class:"text-sm font-bold text-slate-800"},"Daftar Alamat"),a("p",{class:"text-xs text-slate-500 mt-1"},"Kelola alamat KTP, Domisili, atau kantor.")],-1)),a("button",{type:"button",class:"btn btn-secondary btn-sm h-10 px-4 flex items-center gap-2",onClick:ue},[d(u(Ue),{size:"16"}),e[64]||(e[64]=D()),e[65]||(e[65]=a("span",null,"Tambah Alamat",-1))])]),a("div",Ba,[(n(!0),r(b,null,h(o.value.alamats,(t,i)=>(n(),r("div",{key:i,class:"address-item relative p-6 bg-white border border-slate-200 rounded-2xl transition-all duration-300"},[a("div",Ma," Alamat #"+g(i+1),1),o.value.alamats.length>1?(n(),r("button",{key:0,type:"button",class:"remove-address-btn",onClick:l=>pe(i),title:"Hapus Alamat"},[d(u(W),{size:"14"})],8,Ra)):y("",!0),a("div",Ea,[a("div",Oa,[e[67]||(e[67]=a("label",{class:"form-label text-xs"},"Caption Alamat (KTP, Domisili, dll)",-1)),p(a("input",{"onUpdate:modelValue":l=>t.caption_alamat=l,onInput:l=>U(t,"caption_alamat"),type:"text",class:"input-sm",required:"",placeholder:"CONTOH: KTP"},null,40,Ha),[[m,t.caption_alamat]])]),a("div",Ja,[e[68]||(e[68]=a("label",{class:"form-label text-xs"},"Alamat Lengkap",-1)),p(a("input",{"onUpdate:modelValue":l=>t.alamat_lengkap=l,onInput:l=>U(t,"alamat_lengkap"),type:"text",class:"input-sm",required:"",placeholder:"JL. NAMA JALAN NO. 123"},null,40,Fa),[[m,t.alamat_lengkap]])]),a("div",Ga,[e[69]||(e[69]=a("label",{class:"form-label text-xs"},"Provinsi",-1)),a("div",qa,[a("input",{value:t.provinsi,onClick:l=>B("provinsi-"+i),readonly:"",type:"text",class:"input-sm cursor-pointer",placeholder:"CARI PROVINSI..."},null,8,Wa),d(u(O),{size:"14",class:"absolute right-3 text-slate-400"})]),v.value.active==="provinsi-"+i?(n(),r("div",Xa,[a("div",Qa,[d(u(T),{size:"14",class:"search-icon"}),p(a("input",{"onUpdate:modelValue":e[28]||(e[28]=l=>v.value.search=l),type:"text",placeholder:"Ketik nama provinsi...",class:"search-input input-sm",onClick:e[29]||(e[29]=E(()=>{},["stop"])),autofocus:""},null,512),[[m,v.value.search]])]),a("ul",Ya,[(n(!0),r(b,null,h(C(c.value.provinces),l=>(n(),r("li",{key:l.id,onClick:_=>M(t,"provinsi",l)},g(l.name),9,Za))),128)),C(c.value.provinces).length===0?(n(),r("li",et,"Tidak ditemukan")):y("",!0)])])):y("",!0)]),a("div",at,[e[70]||(e[70]=a("label",{class:"form-label text-xs"},"Kota/Kabupaten",-1)),a("div",tt,[a("input",{value:t.kota,onClick:l=>B("kota-"+i),disabled:!t.provinsi,readonly:"",type:"text",class:"input-sm cursor-pointer",placeholder:"CARI KOTA..."},null,8,st),d(u(O),{size:"14",class:"absolute right-3 text-slate-400"})]),v.value.active==="kota-"+i?(n(),r("div",lt,[a("div",ot,[d(u(T),{size:"14",class:"search-icon"}),p(a("input",{"onUpdate:modelValue":e[30]||(e[30]=l=>v.value.search=l),type:"text",placeholder:"Ketik nama kota...",class:"search-input input-sm",onClick:e[31]||(e[31]=E(()=>{},["stop"])),autofocus:""},null,512),[[m,v.value.search]])]),a("ul",nt,[(n(!0),r(b,null,h(C(c.value.regencies[t._province_id]),l=>(n(),r("li",{key:l.id,onClick:_=>M(t,"kota",l)},g(l.name),9,it))),128)),C(c.value.regencies[t._province_id]||[]).length===0?(n(),r("li",rt,"Pilih provinsi dahulu")):y("",!0)])])):y("",!0)]),a("div",ut,[e[71]||(e[71]=a("label",{class:"form-label text-xs"},"Kecamatan",-1)),a("div",pt,[a("input",{value:t.kecamatan,onClick:l=>B("kecamatan-"+i),disabled:!t.kota,readonly:"",type:"text",class:"input-sm cursor-pointer",placeholder:"CARI KECAMATAN..."},null,8,dt),d(u(O),{size:"14",class:"absolute right-3 text-slate-400"})]),v.value.active==="kecamatan-"+i?(n(),r("div",ct,[a("div",mt,[d(u(T),{size:"14",class:"search-icon"}),p(a("input",{"onUpdate:modelValue":e[32]||(e[32]=l=>v.value.search=l),type:"text",placeholder:"Ketik nama kecamatan...",class:"search-input input-sm",onClick:e[33]||(e[33]=E(()=>{},["stop"])),autofocus:""},null,512),[[m,v.value.search]])]),a("ul",vt,[(n(!0),r(b,null,h(C(c.value.districts[t._regency_id]),l=>(n(),r("li",{key:l.id,onClick:_=>M(t,"kecamatan",l)},g(l.name),9,gt))),128)),C(c.value.districts[t._regency_id]||[]).length===0?(n(),r("li",_t,"Pilih kota dahulu")):y("",!0)])])):y("",!0)]),a("div",kt,[e[72]||(e[72]=a("label",{class:"form-label text-xs"},"Kelurahan/Desa",-1)),a("div",ft,[a("input",{value:t.kelurahan,onClick:l=>B("kelurahan-"+i),disabled:!t.kecamatan,readonly:"",type:"text",class:"input-sm cursor-pointer",placeholder:"CARI KELURAHAN..."},null,8,bt),d(u(O),{size:"14",class:"absolute right-3 text-slate-400"})]),v.value.active==="kelurahan-"+i?(n(),r("div",ht,[a("div",xt,[d(u(T),{size:"14",class:"search-icon"}),p(a("input",{"onUpdate:modelValue":e[34]||(e[34]=l=>v.value.search=l),type:"text",placeholder:"Ketik nama kelurahan...",class:"search-input input-sm",onClick:e[35]||(e[35]=E(()=>{},["stop"])),autofocus:""},null,512),[[m,v.value.search]])]),a("ul",yt,[(n(!0),r(b,null,h(C(c.value.villages[t._district_id]),l=>(n(),r("li",{key:l.id,onClick:_=>M(t,"kelurahan",l)},g(l.name),9,wt))),128)),C(c.value.villages[t._district_id]||[]).length===0?(n(),r("li",Ct,"Pilih kecamatan dahulu")):y("",!0)])])):y("",!0)]),a("div",Ut,[e[73]||(e[73]=a("label",{class:"form-label text-xs"},"RT",-1)),p(a("input",{"onUpdate:modelValue":l=>t.rt=l,onInput:l=>z(t,"rt",5),type:"text",class:"input-sm",maxlength:"5"},null,40,At),[[m,t.rt]])]),a("div",Vt,[e[74]||(e[74]=a("label",{class:"form-label text-xs"},"RW",-1)),p(a("input",{"onUpdate:modelValue":l=>t.rw=l,onInput:l=>z(t,"rw",5),type:"text",class:"input-sm",maxlength:"5"},null,40,Pt),[[m,t.rw]])]),a("div",It,[e[75]||(e[75]=a("label",{class:"form-label text-xs"},"Kode Pos",-1)),p(a("input",{"onUpdate:modelValue":l=>t.kode_pos=l,onInput:l=>z(t,"kode_pos",10),type:"text",class:"input-sm",maxlength:"10"},null,40,zt),[[m,t.kode_pos]])]),a("div",Kt,[e[76]||(e[76]=a("label",{class:"form-label text-xs"},"Negara",-1)),p(a("input",{"onUpdate:modelValue":l=>t.negara=l,onInput:l=>U(t,"negara"),type:"text",class:"input-sm"},null,40,$t),[[m,t.negara]])]),a("div",Nt,[p(a("input",{id:"utama-"+i,type:"checkbox","onUpdate:modelValue":l=>t.is_utama=l,onChange:l=>de(i)},null,40,Dt),[[_e,t.is_utama]]),a("label",{for:"utama-"+i,class:"text-xs font-bold text-slate-600 uppercase cursor-pointer"},"Jadikan Alamat Utama",8,St)])])]))),128))])],512),[[R,I.value==="alamat"]])]),a("div",jt,[a("button",{onClick:ce,disabled:w.value,class:"btn btn-primary h-12 px-10 flex items-center gap-2"},[w.value?(n(),r("span",Lt)):(n(),F(u(ke),{key:1,size:"18"})),e[77]||(e[77]=a("span",null,"Simpan Perubahan",-1))],8,Tt)])]))])]))}},ls=me(Bt,[["__scopeId","data-v-d8470d27"]]);export{ls as default};
